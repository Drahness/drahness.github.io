(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0f99":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",t._l(t.stats_link,(function(a){return e("q-card",{key:a.id,staticClass:"bg-grey-9 my-card col-1-lg",staticStyle:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"},attrs:{dark:"",bordered:""}},[e("q-card-section",[e("div",{staticClass:"text-h6"},[t._v(t._s(a.part_type_id.toUpperCase()))]),e("div",{staticClass:"text-subtitle2"},[t._v(t._s(a.material_id.toUpperCase()))])]),e("q-separator"),e("q-card-section",{staticClass:"q-pt-none"},t._l(Object.keys(t.stats),(function(a){return e("div",{key:t.stats[a].id},[t._v("\n          "+t._s(a)+" : "+t._s(t.stats[a])+"\n        ")])})),0)],1)})),1)])},i=[],r=e("2a19"),l={name:"Material",props:{material:{type:Object,required:!1}},data:function(){return{id:void 0,data:void 0,stats_link:void 0,stats:{}}},computed:{getStats(){return 1}},methods:{},mounted(){},created(){this.material?(this.id=this.material.id,this.$api.get(this.material.links.self.split(" ")[1]).then((t=>{const a=t.data.data;this.data=a,this.$api.get(a.links.parttypes.split(" ")[1]).then((t=>{const a=t.data.data;a.forEach((t=>{console.log(t.links.self.split(" ")[1]),this.$api.get(t.links.self.split(" ")[1]).then((t=>{const a=t.data.data;this.stats[a.id]=a}))})),this.stats_link=a}))}))):r["a"].create({message:"Material id is "+this.material_id,color:"info"})}},n=l,o=e("2877"),c=e("f09f"),d=e("a370"),p=e("eb85"),u=e("eebe"),h=e.n(u),m=Object(o["a"])(n,s,i,!1,null,null,null);a["a"]=m.exports;h()(m,"components",{QCard:c["a"],QCardSection:d["a"],QSeparator:p["a"]})},"3e56":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-2",attrs:{id:"scroll_target"}},[e("q-infinite-scroll",{ref:"scroll",staticClass:"q-pa-md",attrs:{offset:100,"scroll-target":"#scroll_target"},on:{load:t.loadMore},scopedSlots:t._u([{key:"loading",fn:function(){return[e("div",{staticClass:"row justify-center q-my-md"},[e("q-spinner-dots",{attrs:{color:"primary",size:"40px"}})],1)]},proxy:!0}])},t._l(t.materials,(function(a){return e("q-item",{key:a.id,attrs:{clickable:"",dark:""},on:{click:function(e){return t.focusMaterial(a)}}},[e("q-img",{staticStyle:{"image-rendering":"pixelated"},attrs:{src:"data:image/png;base64,"+t.sprites[a.id],alt:""}})],1)})),1)],1),e("q-separator",{attrs:{vertical:"",size:"2px"}}),e("Material",{key:t.matSelected,attrs:{material:t.materials[t.matSelected]}})],1)},i=[],r=e("4328"),l=e.n(r),n=e("0f99"),o=e("2a19"),c={name:"MaterialsPage",components:{Material:n["a"]},data(){return{matSelected:void 0,matColor:"",materials:[],sprites:{},initialized:!1,total:0,cursor:{}}},methods:{getQuery(){return"/materials"+l.a.stringify({att:["name","atlas_sprite_id"],options:{limit:10}},{addQueryPrefix:!0})},focusMaterial(t){this.matSelected=t._index},getMaterials(t,a){t||(t=this.getQuery()),this.$api.get(t).then((t=>{const e=this.materials.length;t.data.data.forEach(((t,a)=>{this.materials.push(t),t._index=e+a,this.getSpriteFor(t)})),this.total=t.data.total,this.cursor=t.data.links,a()}))},loadMore(t,a){this.initialized?this.total>this.materials.length?this.getMaterials(this.cursor.next.split(" ")[1],a):(this.$refs.scroll.stop(),a()):(this.getMaterials(this.getQuery(),a),this.initialized=!0)},getSpriteFor(t){t.links.sprite&&(console.log("getting sprite for",t.id),this.$api.get(t.links.sprite.split(" ")[1]).then((a=>{const e=a.data.data;this.sprites[t.id]=e[0].data})).catch((t=>{o["a"].create({message:t.toString(),color:"negative"})})))},log(...t){console.log(t)}},created(){},computed:{computed(){return 1}}},d=c,p=e("2877"),u=e("ef35"),h=e("66e5"),m=e("293e"),g=e("068f"),f=e("8380"),_=e("eb85"),k=e("eebe"),y=e.n(k),v=Object(p["a"])(d,s,i,!1,null,"de1f3298",null);a["default"]=v.exports;y()(v,"components",{QInfiniteScroll:u["a"],QItem:h["a"],QSkeleton:m["a"],QImg:g["a"],QSpinnerDots:f["a"],QSeparator:_["a"]})}}]);